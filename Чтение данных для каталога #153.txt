Чтение данных для каталога #153
В этом уроке нужно дополнить программу из предыдущего. Переменная catalog должна быть не пустой, а заполнена значениями из файла. То есть, нужно прочитать файл, разбить содержимое на строки и записать полученные данные в словарь. Текст до двоеточия должен быть ключом, а после двоеточия — количеством. Не забудьте преобразовать количество в целое число.

Прочитать файл в текстовом формате можно не только с помощью метода read. Можно, например, использовать метод readlines — он сразу вернет содержимое файла, разбитое на строки

with open('catalog.txt', 'r+') as f:
    lines = f.readlines()
    for line in lines:
        print(line)
А еще проще сразу «пройтись» циклом по файлу

with open('catalog.txt', 'r+') as f:
    for line in f:
        print(line)
Чтение файла сделайте так, как вам больше нравится. В остальном, программа должна оставаться прежней.

В итоге, с каждым новым запуском, программа должна дополнять файл новой введенной информацией.


Наше решение
catalog = {}
with open('catalog.txt', 'r') as f:
    # Каждая строка файла должна быть
    # разбита на две части по двоеточию.
    # Часть до двоеточия -- название. 
    # После двоеточия -- количество
    for line in f:
        name, count = line.split(':')
        catalog[name] = int(count)

for i in range(3):
    name = input('Введите наименование товара')
    count = int(input('Введите количество товара'))
    # если ключ (наименование товара) уже есть
    # в словаре
    if name in catalog:
        # увеличиваем его значение на count
        catalog[name] += count
    else:
        # иначе создаем ключ со значением count 
        catalog[name] = count

# Каждый ключ и значение в каталоге нужно 
# записать в файл через двоеточие            
with open('catalog.txt', 'w') as f:
    for i in catalog:
        f.write(i + ':' + str(catalog[i]) + '\n')